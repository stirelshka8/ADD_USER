# Инструкция

Лог:
- [241023] Добавлена возможность сохранять пользователей при удалении (запрашивается при запуске)

### Настройка файла servers.yml происходит автоматически на основе данных в файле ip_addresses.txt. Для корректного создания в ip_addresses.txt заполнять по шаблону

```bash
192.168.1.1:1522
192.168.1.2
```

Порт можно не указывать если он стандартный и равер 22.

- После заполнения ip адресов выполните команду для заполнения файла servers.yml:



```python
python3 write_ip.py
```



### Файл users.yml заполните по шаблону:

```bash
users:
  - username: user1
    password: "user1password"
    ssh_key: ssh-rsa AAAA1234...
  - username: user2
    password: "user2password"
    ssh_key: ssh-rsa BBBB5678...
```

<mark>**Пароль в ОБЯЗАТЕЛЬНОМ порядке в ковычках.**</mark>

- После запуска в файле появится поле hash_pass с зашифрованным паролем. При каждом запуске будет обновлятся.

- При запуске необходимо выбрать метод авторизации (ssh ключ или пароль).

# Установка и запуск

Создание виртуального окружения:

```sh
python3 -m venv venv
```

Активация:

```sh
source venv/bin/activate
```

Деактивация:

```sh
deactivate
```

Установка зависимостей:

```python
pip install -r req.txt
```

Запускать командой:

```python
python3 add_user.py
```